<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/css" href="../styles/4pmtcomp.css"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de" lang="de">
<head>
  <link rel="shortcut icon" href="../styles/4pmt.png" />
  <title>4 Pieces MTools</title>
</head>
<body>

<header>
  <div id="linksoben">antoinelegra.github.io</div>
  <div id="topthema">4 Pieces MTools</div>
</header>

<nav>
    <a href="../index.xhtml">Übersicht</a>
    <a href="mfb.xhtml">Find &amp; Backup</a>
    <a href="mcb.xhtml">Compare &amp; Backup</a>
    <a href="mkal.xhtml">Kalender mit Datenbank</a>
    <a href="mpa.xhtml">Bilderalbum</a>
</nav>

<article>
<h1>Bilderalbum mit Datenbank</h1>

<p class="vorsatz">
  Diese Seiten auch auf <a href="https://github.com/AntoineLegra/antoinelegra.github.io">GitHub</a> ansehen.
</p>

<figure class="figlinks" style="width: 350px;">
  <a href="pics/mpawinx.png">
    <img src="pics/mpawinx.png" style="width: 100%;" />
  </a>
  <figcaption>
    MPicAlb unter Windows.
  </figcaption>
</figure>

<p class="initial">
  Das Bilderalbum mit Datenbank, kurz MPicAlb, ist nicht nur der Versuch, mit Bildern zu arbeiten — also sie anzuzeigen, Informationen auszulesen usw. —, sondern auch, die Bilder nachträglich in eine gewisse Ordnung zu bekommen, sie mit Kategorien und Notizen zu versehen, um dann danach suchen oder sie gruppieren zu können. In das Programmverzeichnis muss (noch) eine <code>sqlite3.dll</code> kopiert werden, ohne die das Windows-Programm nicht funktioniert. Die Linux-Version hat (noch) den Pfad einprogrammiert, mit dem die Library unter Fedora zu finden ist.
</p>

<p class="initial">
  Die beiden Programm-Versionen für MS Windows X und Fedora Linux basieren auf denselben Quelltexten und liegen nur als 64 Bit-Versionen vor. Aus experimentellen Gründen — das Programm sollte sowohl auf meinen Windows PC als auch auf meinem Linux Laptop laufen — sind (noch) bestimmte Voraussetzungen nötig. Dazu gehört, dass sich sowohl die Bilderalben als auch die Bilder zwangsläufig im Bilder-Ordner des jeweiligen Nutzers befinden müssen: Die Bilderalben (Datenbanken) im Unterordner ›Alben‹, die Bilder können ihrerseits in Unter-Ordnern des Bild-Ordners stehen.
</p>

<p class="initial">
  Dadurch ›funktionieren‹ die Bilderalben selbst unabhängig vom Betriebssystem und auch vom jeweiligen Nutzer, d.h. man kann sie einfach auf einen anderen PC kopieren. In der Datenbank selbst ist nämlich nur der relative Pfad des Bildes — ausgehend vom Ordner ›Alben‹ — gespeichert und wird erst zur Laufzeit zu einem kompletten Pfad zusammengesetzt, der eben auf den o.g. Voraussetzungen basiert und auch für das jeweilige System (›\‹ bzw. ›/‹) angepasst wird.
</p>

<p class="initial">
  Für die Bilderalben bzw. die Ansicht im Programm werden Thumbnails der Bilder erzeugt. Dieser Prozess kann bei der Neuaufnahme von Bildern etwas dauern, sofern in den (jpeg-) Bildern selbst keine Thumbnails enthalten sind. Das ist häufig der Fall bei Bildern, die mit einfachen Bearbeitungsprogrammen verändert werden. Durch die Verwendung des Packages <code>dEXIF</code> (siehe Online-Package-Manager in Lazarus) besteht jedenfalls die Möglichkeit, die Thumbnail-Erzeugung zu beschleunigen. Bedingt durch das verwendete Konzept kann man jedoch die Erzeugung eines Albums auf seinem schnellsten PC erledigen und es dann auf einen anderen PC einfach übernehmen — nicht zu vergessen dieselbe Ordnerstruktur auch für die Bilder.
</p>

<p class="initial">
  Um auch nicht so leistungsstarke PCs bei der Zusammenarbeit mit einem Bilderalbum nicht unnötig auszubremsen, werden immer nur soviele Thumbnails aus der Datenbank geholt, wie auf das Fenster des Programmes passen. Das geht auch auf solch langweiligen PCs relativ schnell. Die Navigation erfolgt daher statt über einen Scrollbalken mit Hilfe von vier NavigationButtons.
</p>

<p class="initial">
  Mit einem Doppelklick auf ein Thumbnail wird eine Bildershow gestartet, die mit dem <code>&lt;space key&gt;</code> das nächste, mit dem <code>&lt;back space key&gt;</code> das vorige Bild anzeigt, und die mit dem <code>&lt;escape key&gt;</code> beendet wird.
</p>

<p class="initial">
  Über einen Rechtsklick auf ein Thumbnail können die Bildeigenschaften bearbeitet werden. Das sind Kategorien und Stichpunkte, an Hand derer die Bilder später gesucht oder gefiltert werden können. Teile dieser Werte stammen aus den Tags im Bild selbst, die Kameras und Smartphones, aber auch bestimmte Bearbeitungsprogramme vergeben können.
</p>

<p class="initial">
  Beim Filtern des Bilderalbums kann immer nur nach einem zusammenhängenden Begriff je Feld gefiltert werden. Die einzelnen Suchbegriffe werden dabei (noch) mit <code>AND</code> verknüpft.
</p>

<h4>Download</h4>

<p class="initial">
  Die Programme werden nicht installiert, sie laufen in jedem Verzeichnis, benötigen aber dazu eine SQLite-Library. Unter Windows muss die <code>sqlite3.dll</code> im selben Verzeichnis stehen, wie das Programm, in der Linux-Version ist der Pfad (noch) hart codiert für Fedora. Die Programme legen außerdem Konfigurationsdateien an, in Linux im <code>HOME</code> unter <code>.config/mtools/MPicAlb</code>, unter WinX im User-Verzeichnis unter <code>AppData\Roaming\mtools\MPicAlb</code>. Die MPicAlb-Datenbank muss unterhalb des jeweiligen Ordners <code>Bilder</code> im Ordner <code>Alben</code> gespeichert werden, die Bilder müssen sich mindestens im <code>Bilder</code>-Ordner befinden, besser aber in SubOrdnern unterhalb von <code>Bilder</code>.
</p>

<ul>
  <li><a href="winx/mpawinx.7z">mpawinx.7z</a> (<code>v0.8.2.42</code>) für MS Windows, 64 Bit-Version</li>
  <li><a href="linx/mpalinx.7z">mpalinx.7z</a> für Fedora 32, 64 Bit-Version</li>
</ul>

</article>

<footer>
  <div id="lastchanged">
    Zuletzt geändert am:
    <br />
    <time>
      18. Mai 2020
    </time>
  </div>
</footer>

</body>
</html>
